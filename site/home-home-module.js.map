{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home-list/home-list.component.ts","./src/app/home/home-list/home-list.component.html"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomeListComponent } from './home-list/home-list.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: HomeListComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HomeRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HomeRoutingModule } from './home-routing.module';\r\nimport { FormsModule, ReactiveFormsModule  } from '@angular/forms';\r\nimport { HomeListComponent } from './home-list/home-list.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [HomeListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    HomeRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class HomeModule { }\r\n","import { HttpClient } from '@angular/common/http';\nimport {Component, OnInit} from '@angular/core';\nimport Swal from 'sweetalert2';\nimport { environment } from 'src/environments/environment';\nimport { Home } from '../home';\n\ninterface Mes {\n  nombre: string;\n  numero: number;\n}\n\n@Component({\n  selector: 'app-home-list',\n  templateUrl: './home-list.component.html',\n  styleUrls: ['./home-list.component.scss']\n})\nexport class HomeListComponent implements OnInit {\n  meses: Mes[] = [\n    { nombre: 'Enero', numero: 1 },\n    { nombre: 'Febrero', numero: 2 },\n    { nombre: 'Marzo', numero: 3 },\n    { nombre: 'Abril', numero: 4 },\n    { nombre: 'Mayo', numero: 5 },\n    { nombre: 'Junio', numero: 6 },\n    { nombre: 'Julio', numero: 7 },\n    { nombre: 'Agosto', numero: 8 },\n    { nombre: 'Septiembre', numero: 9 },\n    { nombre: 'Octubre', numero: 10 },\n    { nombre: 'Noviembre', numero: 11 },\n    { nombre: 'Diciembre', numero: 12 }\n  ];\n  anios: number[] = [];\n  mesSeleccionado: string = \"\";\n  anioSeleccionado: number = 0;\n  list: Home[] = [];\n  totalGananciaMes: number = 0;\n  constructor(private http: HttpClient) {\n  }\n  ngOnInit(): void {\n    const fechaActual = new Date();\n    this.mesSeleccionado = (fechaActual.getMonth() + 1).toString();\n    this.anioSeleccionado = fechaActual.getFullYear();\n    for (let i = 2020; i <= 2030; i++) {\n      this.anios.push(i);\n    }\n    this.filtrarFecha()\n  }\n  filtrarFecha() {\n    this.http\n    .post(environment.apiEndpoint + '/home', {fecha:'01-'+this.mesSeleccionado+'-'+this.anioSeleccionado})\n    .subscribe(\n      (res) => {\n        this.list = res as any; // respuesta del servidor\n        this.list.sort(function (a, b) {\n          if (a.id > b.id) {\n            return -1;\n          }\n          if (a.id < b.id) {\n            return 1;\n          }\n          return 0;\n        }); // ordenar por id desc\n        this.calcularTotalGanancia();\n      },\n      (error) => {\n        console.error(error);\n      }\n    );\n  }\n  calcularTotalGanancia() {\n    this.totalGananciaMes = 0;\n    for (const item of this.list) {\n      this.totalGananciaMes += Number(item.montpayed);\n    }\n  }\n}\n","<div class=\"container mt-4\">\r\n  <div class=\"d-flex justify-content-between mb-4 mt-4\">\r\n    <h2>Resumen Ganancias</h2>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <label for=\"selectMes\">Mes:</label>\r\n      <select class=\"form-select\" id=\"selectMes\" [(ngModel)]=\"mesSeleccionado\" (change)=\"filtrarFecha()\">\r\n        <option *ngFor=\"let mes of meses\" [value]=\"mes.numero\">{{ mes.nombre }}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col\">\r\n      <label for=\"selectAnio\">AÃ±o:</label>\r\n      <select class=\"form-select\" id=\"selectAnio\" [(ngModel)]=\"anioSeleccionado\" (change)=\"filtrarFecha()\">\r\n        <option *ngFor=\"let anio of anios\" [value]=\"anio\">{{ anio }}</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n  <div class=\"mt-3\" *ngIf=\"list && list.length > 0\">\r\n    <div class=\"form-group\">\r\n      <h4>Ganancia Total:</h4>\r\n      <p>{{ totalGananciaMes }} Bs</p>\r\n    </div>\r\n  </div>\r\n  <table class=\"table mt-3\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Producto</th>\r\n        <th scope=\"col\">Cantidad</th>\r\n        <th scope=\"col\">Precio Unidad</th>\r\n        <th scope=\"col\">Total</th>\r\n        <th scope=\"col\">Monto Cancelado</th>\r\n        <th scope=\"col\">Fecha Venta</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let buy of list\">\r\n        <td>{{ buy.name }}</td>\r\n        <td>{{ buy.quantity }} Unidades</td>\r\n        <td>{{ buy.price }} Bs</td>\r\n        <td>{{ buy.quantity * buy.price }} Bs</td>\r\n        <td>{{ buy.montpayed }} Bs</td>\r\n        <td>{{ buy.datebuy | date:'dd-MM-yyyy' }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <div class=\"row\" *ngIf=\"!list || !list.length\">\r\n    <div class=\"col-md-12\">\r\n      <p>No se encontraron ventas.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}